<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="headerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2563eb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dbGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f766e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#dc2626;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Header -->
  <rect x="0" y="0" width="1200" height="80" fill="url(#headerGradient)"/>
  <text x="60" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="white">Medical RAG Agent</text>
  <text x="60" y="55" font-family="Arial, sans-serif" font-size="14" fill="#e2e8f0">Production-Ready AI System with 1.7M+ Medical Records • PostgreSQL + pgvector • Intelligent Query Routing</text>
  
  <!-- Key Stats Box -->
  <rect x="850" y="15" width="330" height="50" rx="8" fill="rgba(255,255,255,0.2)" stroke="rgba(255,255,255,0.3)"/>
  <text x="870" y="35" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">📊 1,761,395 Vector Embeddings</text>
  <text x="870" y="50" font-family="Arial, sans-serif" font-size="12" fill="#e2e8f0">⚡ 512D Vectors • 🔍 Cosine Similarity • 🎯 Focused Search</text>
  
  <!-- User Input Section -->
  <rect x="50" y="120" width="280" height="120" rx="12" fill="#ffffff" filter="url(#shadow)" stroke="#e2e8f0"/>
  <text x="70" y="145" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">👤 Informed Decision Makers</text>
  <rect x="70" y="160" width="240" height="60" rx="8" fill="#f1f5f9" stroke="#cbd5e1"/>
  <text x="80" y="175" font-family="Arial, sans-serif" font-size="11" fill="#475569">"What are the interactions between</text>
  <text x="80" y="190" font-family="Arial, sans-serif" font-size="11" fill="#475569">warfarin and common foods? Include</text>
  <text x="80" y="205" font-family="Arial, sans-serif" font-size="11" fill="#475569">dosage information and any</text>
  <text x="80" y="220" font-family="Arial, sans-serif" font-size="11" fill="#475569">withdrawal history."</text>
  
  <!-- AI Query Classification -->
  <rect x="380" y="120" width="280" height="120" rx="12" fill="#ffffff" filter="url(#shadow)" stroke="#fbbf24"/>
  <text x="400" y="145" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#92400e">🤖 AI Query Classifier</text>
  <text x="400" y="165" font-family="Arial, sans-serif" font-size="12" fill="#78716c">GPT-4O-mini • Confidence: 0.87</text>
  
  <rect x="400" y="175" width="240" height="15" rx="2" fill="#fef3c7"/>
  <rect x="400" y="175" width="190" height="15" rx="2" fill="#f59e0b"/>
  <text x="405" y="185" font-family="Arial, sans-serif" font-size="10" fill="white">Intent: food_interactions</text>
  
  <text x="400" y="205" font-family="Arial, sans-serif" font-size="11" fill="#78716c">✅ Route: food_interactions table</text>
  <text x="400" y="220" font-family="Arial, sans-serif" font-size="11" fill="#78716c">✅ Strategy: Focused search</text>
  
  <!-- PostgreSQL Database Section -->
  <rect x="50" y="280" width="550" height="280" rx="12" fill="url(#dbGradient)" filter="url(#shadow)"/>
  <text x="70" y="305" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">🐘 PostgreSQL + pgvector Database</text>
  
  <!-- Database Tables Grid -->
  <!-- Row 1 -->
  <rect x="70" y="320" width="160" height="60" rx="6" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
  <text x="75" y="335" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">drug_relations</text>
  <text x="75" y="350" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">1,443,729 records</text>
  <text x="75" y="365" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">Knowledge graph 🔥</text>
  
  <rect x="240" y="320" width="160" height="60" rx="6" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
  <text x="245" y="335" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">drug_dosage</text>
  <text x="245" y="350" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">265,376 records</text>
  <text x="245" y="365" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">+ Availability status</text>
  
  <rect x="410" y="320" width="160" height="60" rx="6" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
  <text x="415" y="335" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">food_interactions</text>
  <text x="415" y="350" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">17,430 records</text>
  <text x="415" y="365" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">Safety warnings</text>
  
  <!-- Row 2 -->
  <rect x="70" y="390" width="160" height="60" rx="6" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
  <text x="75" y="405" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">drug_metadata</text>
  <text x="75" y="420" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">17,430 records</text>
  <text x="75" y="435" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">Basic drug info</text>
  
  <rect x="240" y="390" width="160" height="60" rx="6" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
  <text x="245" y="405" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">product_stages</text>
  <text x="245" y="420" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">17,423 records</text>
  <text x="245" y="435" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">Market availability</text>
  
  <rect x="410" y="390" width="160" height="60" rx="6" fill="rgba(255,255,255,0.15)" stroke="rgba(255,255,255,0.3)"/>
  <text x="415" y="405" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">vector_embeddings</text>
  <text x="415" y="420" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">1,761,395 vectors 🔥</text>
  <text x="415" y="435" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">512D • IVFFlat index</text>
  
  <!-- Technical Features Box -->
  <rect x="70" y="470" width="500" height="75" rx="6" fill="rgba(0,0,0,0.3)" stroke="rgba(255,255,255,0.2)"/>
  <text x="85" y="485" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">🚀 Advanced Features:</text>
  <text x="85" y="500" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">✅ Intelligent Data Prioritization (critical warnings first)</text>
  <text x="85" y="515" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">✅ Product Withdrawal Detection (⚠️ WITHDRAWN vs ✅ Available)</text>
  <text x="85" y="530" font-family="Arial, sans-serif" font-size="10" fill="#a7f3d0">✅ Cross-Table Relationship Mapping • Content-Based Severity Analysis</text>
  
  <!-- AI Response Generation -->
  <rect x="650" y="280" width="500" height="280" rx="12" fill="url(#aiGradient)" filter="url(#shadow)"/>
  <text x="670" y="305" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">🧠 AI Response Generation</text>
  
  <!-- Response Structure -->
  <rect x="670" y="320" width="460" height="220" rx="6" fill="rgba(255,255,255,0.1)" stroke="rgba(255,255,255,0.2)"/>
  
  <!-- Sample Response -->
  <text x="685" y="340" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Comprehensive Response for "Warfarin + Food":</text>
  
  <text x="685" y="360" font-family="Arial, sans-serif" font-size="10" fill="#fef3c7">🎯 Direct Answer: "Warfarin has significant food interactions..."</text>
  
  <text x="685" y="380" font-family="Arial, sans-serif" font-size="10" fill="#fef3c7">📊 Prioritized Data (from food_interactions table):</text>
  <text x="700" y="395" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Vitamin K foods (spinach, broccoli) - High priority</text>
  <text x="700" y="408" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Alcohol interactions - Medium priority</text>
  <text x="700" y="421" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• ... and 12 additional interactions available</text>
  
  <text x="685" y="440" font-family="Arial, sans-serif" font-size="10" fill="#fef3c7">🔗 Cross-Referenced (product_stages + drug_dosage):</text>
  <text x="700" y="455" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Coumadin 5mg (✅ Available) - Currently marketed</text>
  <text x="700" y="468" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Generic formulations available</text>
  
  <text x="685" y="485" font-family="Arial, sans-serif" font-size="10" fill="#fef3c7">💡 Decision Support:</text>
  <text x="700" y="500" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Discussion points for healthcare provider</text>
  <text x="700" y="513" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Source transparency: All data from verified tables</text>
  <text x="700" y="526" font-family="Arial, sans-serif" font-size="9" fill="#fed7aa">• Confidence score: 0.89 (high reliability)</text>
  
  <!-- Architecture Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b" />
    </marker>
  </defs>
  
  <!-- User to AI -->
  <line x1="330" y1="180" x2="380" y2="180" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- AI to Database -->
  <line x1="520" y1="240" x2="325" y2="280" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Database to AI Response -->
  <line x1="600" y1="420" x2="650" y2="420" stroke="#64748b" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Performance Metrics Box -->
  <rect x="50" y="600" width="300" height="140" rx="12" fill="#ffffff" filter="url(#shadow)" stroke="#e2e8f0"/>
  <text x="70" y="625" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">⚡ Performance Metrics</text>
  
  <rect x="70" y="640" width="120" height="35" rx="4" fill="#dcfce7" stroke="#16a34a"/>
  <text x="75" y="655" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#15803d">Vector Search</text>
  <text x="75" y="668" font-family="Arial, sans-serif" font-size="10" fill="#15803d">&lt;2s for 1.7M records</text>
  
  <rect x="200" y="640" width="120" height="35" rx="4" fill="#dbeafe" stroke="#2563eb"/>
  <text x="205" y="655" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1d4ed8">AI Classification</text>
  <text x="205" y="668" font-family="Arial, sans-serif" font-size="10" fill="#1d4ed8">~500ms response</text>
  
  <rect x="70" y="685" width="120" height="35" rx="4" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="75" y="700" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#d97706">Embedding Cost</text>
  <text x="75" y="713" font-family="Arial, sans-serif" font-size="10" fill="#d97706">$1.76 (one-time)</text>
  
  <rect x="200" y="685" width="120" height="35" rx="4" fill="#f3e8ff" stroke="#8b5cf6"/>
  <text x="205" y="700" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#7c3aed">Memory Usage</text>
  <text x="205" y="713" font-family="Arial, sans-serif" font-size="10" fill="#7c3aed">4GB vector storage</text>
  
  <!-- Technology Stack -->
  <rect x="400" y="600" width="380" height="140" rx="12" fill="#ffffff" filter="url(#shadow)" stroke="#e2e8f0"/>
  <text x="420" y="625" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">🛠️ Technology Stack</text>
  
  <text x="420" y="645" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">Backend:</text>
  <text x="490" y="645" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">FastAPI • PostgreSQL • pgvector • SQLAlchemy</text>
  
  <text x="420" y="665" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#dc2626">AI/ML:</text>
  <text x="465" y="665" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">OpenAI GPT-4O-mini • text-embedding-3-small • RAG Pipeline</text>
  
  <text x="420" y="685" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2563eb">Frontend:</text>
  <text x="485" y="685" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">Next.js • TypeScript • Tailwind CSS • Real-time Chat</text>
  
  <text x="420" y="705" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#7c3aed">DevOps:</text>
  <text x="475" y="705" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">Python UV • NPM • Git • Environment Management</text>
  
  <text x="420" y="725" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f59e0b">Data:</text>
  <text x="460" y="725" font-family="Arial, sans-serif" font-size="11" fill="#6b7280">DrugBank • MONDO • Medical Ontologies • 1.7M+ records</text>
  
  <!-- Key Innovation Highlight -->
  <rect x="820" y="600" width="330" height="140" rx="12" fill="#1e293b" filter="url(#shadow)" stroke="#475569"/>
  <text x="840" y="625" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">🌟 Key Innovation</text>
  
  <text x="840" y="650" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#fbbf24">Intelligent Medical Decision Support</text>
  
  <text x="840" y="670" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">• Content-based severity prioritization</text>
  <text x="840" y="685" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">• Real-time product withdrawal detection</text>
  <text x="840" y="700" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">• Cross-table relationship mapping</text>
  <text x="840" y="715" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">• Persona-optimized responses</text>
  
  <!-- Footer -->
  <rect x="0" y="760" width="1200" height="40" fill="#1f2937"/>
  <text x="60" y="780" font-family="Arial, sans-serif" font-size="12" fill="#9ca3af">Production-Ready Medical RAG System • Built with PostgreSQL, pgvector, FastAPI, Next.js • Designed for Informed Medication Decision Makers</text>
  <text x="900" y="780" font-family="Arial, sans-serif" font-size="12" fill="#6b7280">github.com/anugrah • Portfolio Project</text>
</svg>